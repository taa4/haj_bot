# -*- coding: utf-8 -*-
from telegram import Update, ReplyKeyboardMarkup, KeyboardButton
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, ContextTypes, filters
import math
import os
import sys
from dotenv import load_dotenv


# ุชุญููู ุงูุชููู ูู ููู .env
load_dotenv()
# ุฅุตูุงุญ ูุดููุฉ ุงูุชุฑููุฒ
sys.stdout.reconfigure(encoding='utf-8')
TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")

HARAM = (21.4225, 39.8262)
SAFA = (21.4229, 39.8257)
MARWA = (21.4237, 39.8267)

# ================= ุงูููุงุฆู =================
main_menu = [
    ["ุงูุญุฌ", "ุงูุนูุฑุฉ"],
    ["ุงูุฃุฏุนูุฉ", "ุงูุฎุฑูุทุฉ"],
    ["ุงูุฃุฎุทุงุก ูุงูููุงุฑุงุช", "ูููุงุช ุงูุฅุญุฑุงู"]
]

mistakes_menu = [
    ["ูุจุณ ุงููุฎูุท", "ุงูุชุทูุจ ุจุนุฏ ุงูุฅุญุฑุงู"],
    ["ูุต ุงูุดุนุฑ ุฃู ุงูุฃุธุงูุฑ", "ุชุบุทูุฉ ุงูุฑุฃุณ"],
    ["ุงูุทูุงู ุจุฏูู ูุถูุก", "ูุณู ุดูุท"],
    ["ุงูุณุนู ูุจู ุงูุทูุงู", "ุชุฑู ูุงุฌุจ"],
    ["ุงูุฌูุงุน"],
    ["ุฑุฌูุน"]
]

main_menu = [
    ["ุงูุญุฌ", "ุงูุนูุฑุฉ"],
    ["ุงูุฃุฏุนูุฉ", "ุงูุฎุฑูุทุฉ"],
    ["ุงูุฃุฎุทุงุก ูุงูููุงุฑุงุช", "ูููุงุช ุงูุฅุญุฑุงู"]
]
dua_menu = [
    ["ุฃุฏุนูุฉ ุงูุฅุญุฑุงู", "ุฃุฏุนูุฉ ุงูุทูุงู"],
    ["ุฃุฏุนูุฉ ุงูุณุนู", "ุฃุฏุนูุฉ ุนุฑูุฉ"],
    ["ุฃุฏุนูุฉ ุงูุฌูุฑุงุช", "ุฃุฏุนูุฉ ุนุงูุฉ"],
    ["ุฑุฌูุน"]
]
map_menu = [
    ["ุงููุณุฌุฏ ุงูุญุฑุงู"],
    ["ุงูุตูุง", "ุงููุฑูุฉ"],
    ["ูููุนู ุงูุญุงูู"],
    ["ุฑุฌูุน"]
]
miqat_menu = [
    ["ุงูุดุงู (ุณูุฑูุงุ ูุจูุงูุ ุงูุฃุฑุฏูุ ููุณุทูู)"],
    ["ูุตุฑ ูุดูุงู ุฃูุฑูููุง"],
    ["ุงูููู"],
    ["ุฑุฌูุน"]
]

map_menu = [
    ["ุงููุณุฌุฏ ุงูุญุฑุงู"],
    ["ุงูุตูุง", "ุงููุฑูุฉ"],
    ["ูููุนู ุงูุญุงูู"],
    ["ุฑุฌูุน"]
]

back_menu = [["ุฑุฌูุน ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ"]]
markup_dua = ReplyKeyboardMarkup(dua_menu, resize_keyboard=True)
markup_main = ReplyKeyboardMarkup(main_menu, resize_keyboard=True)
markup_back = ReplyKeyboardMarkup(back_menu, resize_keyboard=True)
markup_miqat = ReplyKeyboardMarkup(miqat_menu, resize_keyboard=True)
markup_map = ReplyKeyboardMarkup(map_menu, resize_keyboard=True)
markup_mistakes = ReplyKeyboardMarkup(mistakes_menu, resize_keyboard=True)
# ุฒุฑ ูุดุงุฑูุฉ ุงููููุน
location_keyboard = ReplyKeyboardMarkup(
    [[KeyboardButton("ุฅุฑุณุงู ูููุนู", request_location=True)],
     ["ุฑุฌูุน"]],
    resize_keyboard=True
)


# ================= ูุนุงูุฌุฉ ุงููุตูุต ุงููุชูุฏูุฉ =================


def normalize_text(text):
    """ุชูููู ุงููุต ูุฅุฒุงูุฉ ุงูุชุดููู ูุงูุญุฑูุงุช"""
    text = text.strip().lower()

    # ุงุณุชุจุฏุงู ุงูุฃุญูุงู ุงููุดุงุจูุฉ
    replacements = {
        'ุฃ': 'ุง', 'ุฅ': 'ุง', 'ุข': 'ุง',
        'ุฉ': 'ู', 'ู': 'ู', 'ุค': 'ู',
        'ุฆ': 'ู', 'ู': '', 'ู': '',
        'ู': '', 'ู': '', 'ู': '',
        'ู': '', 'ู': '', 'ู': '',
    }

    for old, new in replacements.items():
        text = text.replace(old, new)

    return text


def process_text(text):
    """ูุนุงูุฌุฉ ุงููุต ูููู ุงููุตุฏ ููู ูุน ุฏุนู ูุชุนุฏุฏ ูููุชุงุจุฉ"""
    text_norm = normalize_text(text)

    # ================= ุงููููุงุช - ุชุบุทูุฉ ุดุงููุฉ =================
    miqat_keywords = [
        'ูููุงุช', 'ุงุญุฑุงู', 'ุฅุญุฑุงู', 'ุงุญุฑู', 'ุฃุญุฑู',
        'ูู ุงูู ุงุญุฑู', 'ุงูู ุงููููุงุช', 'ูุชู ุงุญุฑู', 'ูุชู ุงุญุฑู',
        'ููุนุฏ ุงูุงุญุฑุงู', 'ููุงู ุงูุงุญุฑุงู', 'ูุญู ุงูุงุญุฑุงู',
        'ูููุงุช ุงูุงุญุฑุงู', 'ุฏุฎูู ูููุงุช', 'ุฎุฑูุฌ ูููุงุช',
        'ุงูู ูุญุฑู ุงูู', 'ูููุงุช ุงูู', 'ุงุญุฑู ูู', 'ุงุญุฑู ุงุฐุง',
        'ุฃุญุฑู ูู', 'ููู ุงุญุฑู', 'ูู ููู ุงุญุฑู', 'ููู ุงููููุงุช'
    ]

    # ุจูุงุฏ ุงูุดุงู
    sham_countries = {
        'ุดุงู': 'miqat_sham',
        'ุณูุฑูุง': 'miqat_sham', 'ุณูุฑู': 'miqat_sham', 'ุณูุฑูู': 'miqat_sham',
        'ูุจูุงู': 'miqat_sham', 'ูุจูุงูู': 'miqat_sham', 'ูุจูุงููู': 'miqat_sham',
        'ุงุฑุฏู': 'miqat_sham', 'ุงุฑุฏูู': 'miqat_sham', 'ุงูุงุฑุฏู': 'miqat_sham',
        'ููุณุทูู': 'miqat_sham', 'ููุณุทููู': 'miqat_sham', 'ููุณุทูููู': 'miqat_sham',
        'ุบุฒู': 'miqat_sham', 'ุบุฒุฉ': 'miqat_sham', 'ุงููุฏุณ': 'miqat_sham'
    }

    # ูุตุฑ ูุดูุงู ุฃูุฑูููุง
    egypt_countries = {
        'ูุตุฑ': 'miqat_egypt', 'ูุตุฑู': 'miqat_egypt', 'ูุตุฑูู': 'miqat_egypt',
        'ุงููุงูุฑุฉ': 'miqat_egypt', 'ุงุณููุฏุฑูุฉ': 'miqat_egypt', 'ุงุณููุฏุฑูู': 'miqat_egypt',
        'ููุจุง': 'miqat_egypt', 'ููุจูุง': 'miqat_egypt', 'ููุจู': 'miqat_egypt',
        'ุชููุณ': 'miqat_egypt', 'ุชููุณู': 'miqat_egypt', 'ุชููุณูู': 'miqat_egypt',
        'ุฌุฒุงูุฑ': 'miqat_egypt', 'ุงูุฌุฒุงูุฑ': 'miqat_egypt', 'ุฌุฒุงุฆุฑ': 'miqat_egypt',
        'ุงูุฌุฒุงุฆุฑ': 'miqat_egypt', 'ุฌุฒุงุฆุฑู': 'miqat_egypt',
        'ูุบุฑุจ': 'miqat_egypt', 'ุงููุบุฑุจ': 'miqat_egypt', 'ูุบุฑุจู': 'miqat_egypt',
        'ููุฑูุชุงููุง': 'miqat_egypt', 'ููุฑูุชุงูู': 'miqat_egypt',
        'ุงูุณูุฏุงู': 'miqat_egypt', 'ุณูุฏุงูู': 'miqat_egypt', 'ุณูุฏุงู': 'miqat_egypt',
        'ุชุดุงุฏ': 'miqat_egypt', 'ุชุดุงุฏู': 'miqat_egypt'
    }

    # ุงูููู
    yemen_countries = {
        'ููู': 'miqat_yemen', 'ุงูููู': 'miqat_yemen', 'ูููู': 'miqat_yemen',
        'ุตูุนุงุก': 'miqat_yemen', 'ุนุฏู': 'miqat_yemen', 'ุญุถุฑููุช': 'miqat_yemen'
    }

    # ุงูุฎููุฌ ุงูุนุฑุจู
    gulf_countries = {
        'ุณุนูุฏูู': 'miqat_saudi', 'ุงูุณุนูุฏูู': 'miqat_saudi', 'ุงูุณุนูุฏูุฉ': 'miqat_saudi',
        'ุณุนูุฏู': 'miqat_saudi', 'ุงูุฑูุงุถ': 'miqat_saudi', 'ุฌุฏู': 'miqat_saudi',
        'ุฌุฏุฉ': 'miqat_saudi', 'ููุฉ': 'miqat_saudi', 'ููู': 'miqat_saudi',
        'ุงููุฏููุฉ': 'miqat_saudi', 'ุงููุฏููู': 'miqat_saudi', 'ุงูุฏูุงู': 'miqat_saudi',

        'ุงูุงุฑุงุช': 'miqat_uae', 'ุงูุงูุงุฑุงุช': 'miqat_uae', 'ุฏุจู': 'miqat_uae',
        'ุงุจูุธุจู': 'miqat_uae', 'ุนุฌูุงู': 'miqat_uae', 'ุงูุดุงุฑูุฉ': 'miqat_uae',

        'ูุทุฑ': 'miqat_qatar', 'ูุทุฑู': 'miqat_qatar', 'ุงูุฏูุญุฉ': 'miqat_qatar',

        'ูููุช': 'miqat_kuwait', 'ุงููููุช': 'miqat_kuwait', 'ูููุชู': 'miqat_kuwait',

        'ุจุญุฑูู': 'miqat_bahrain', 'ุงูุจุญุฑูู': 'miqat_bahrain', 'ุงูููุงูุฉ': 'miqat_bahrain',

        'ุนูุงู': 'miqat_oman', 'ุณูุทูุฉ ุนูุงู': 'miqat_oman', 'ูุณูุท': 'miqat_oman'
    }

    # ุจูุฏุงู ุฃุฎุฑู
    other_countries = {
        'ุชุฑููุง': 'miqat_turkey', 'ุชุฑูู': 'miqat_turkey', 'ุงุณุชุงูุจูู': 'miqat_turkey',
        'ุงููุฑุฉ': 'miqat_turkey', 'ุฃููุฑุฉ': 'miqat_turkey',

        'ุงูุฑุงู': 'miqat_iran', 'ุงูุฑุงูู': 'miqat_iran', 'ุทูุฑุงู': 'miqat_iran',

        'ุงูุบุงูุณุชุงู': 'miqat_afghanistan', 'ุงูุบุงูู': 'miqat_afghanistan',
        'ูุงุจู': 'miqat_afghanistan',

        'ุจุงูุณุชุงู': 'miqat_pakistan', 'ุจุงูุณุชุงูู': 'miqat_pakistan',
        'ุงุณูุงู ุงุจุงุฏ': 'miqat_pakistan', 'ูุฑุงุชุดู': 'miqat_pakistan',

        'ุงูููุฏ': 'miqat_india', 'ููุฏู': 'miqat_india', 'ูููุฏููู': 'miqat_india',
        'ูููุจุงู': 'miqat_india',

        'ุงูุฏูููุณูุง': 'miqat_indonesia', 'ุงูุฏูููุณู': 'miqat_indonesia',
        'ุฌุงูุฑุชุง': 'miqat_indonesia',

        'ูุงููุฒูุง': 'miqat_malaysia', 'ูุงููุฒู': 'miqat_malaysia',
        'ููุงูุงููุจูุฑ': 'miqat_malaysia',

        'ุงูุฑููุง': 'miqat_america', 'ุงูููุงูุงุช ุงููุชุญุฏุฉ': 'miqat_america',
        'ุงูุฑููู': 'miqat_america', 'ูููููุฑู': 'miqat_america',
        'ูุงุดูุทู': 'miqat_america',

        'ููุฏุง': 'miqat_canada', 'ููุฏู': 'miqat_canada', 'ุชูุฑูุชู': 'miqat_canada',
        'ูุงููููุฑ': 'miqat_canada',

        'ุจุฑูุทุงููุง': 'miqat_uk', 'ุงูููููุฉ ุงููุชุญุฏุฉ': 'miqat_uk',
        'ุงูุฌูุชุฑุง': 'miqat_uk', 'ููุฏู': 'miqat_uk',

        'ูุฑูุณุง': 'miqat_france', 'ูุฑูุณู': 'miqat_france', 'ุจุงุฑูุณ': 'miqat_france',

        'ุงููุงููุง': 'miqat_germany', 'ุงููุงูู': 'miqat_germany', 'ุจุฑููู': 'miqat_germany',

        'ุงูุทุงููุง': 'miqat_italy', 'ุงูุทุงูู': 'miqat_italy', 'ุฑููุง': 'miqat_italy',

        'ุงุณุชุฑุงููุง': 'miqat_australia', 'ุงุณุชุฑุงูู': 'miqat_australia',
        'ุณูุฏูู': 'miqat_australia', 'ููุจูุฑู': 'miqat_australia',

        'ุงููุงุจุงู': 'miqat_japan', 'ูุงุจุงูู': 'miqat_japan', 'ุทูููู': 'miqat_japan',

        'ููุฑูุง': 'miqat_korea', 'ููุฑู': 'miqat_korea', 'ุณููู': 'miqat_korea',

        'ุงูุตูู': 'miqat_china', 'ุตููู': 'miqat_china', 'ุจููู': 'miqat_china',

        'ุฑูุณูุง': 'miqat_russia', 'ุฑูุณู': 'miqat_russia', 'ููุณูู': 'miqat_russia',

        'ุงูุจุฑุงุฒูู': 'miqat_brazil', 'ุจุฑุงุฒููู': 'miqat_brazil',
        'ุฑูู ุฏู ุฌุงููุฑู': 'miqat_brazil',

        'ุงุฑูุชุฑูุง': 'miqat_eritrea', 'ุงุฑูุชุฑู': 'miqat_eritrea',
        'ุงุซููุจูุง': 'miqat_ethiopia', 'ุงุซููุจู': 'miqat_ethiopia',
        'ุงูุตููุงู': 'miqat_somalia', 'ุตููุงูู': 'miqat_somalia',
        'ุฌูุจูุชู': 'miqat_djibouti', 'ุฌูุจูุชู': 'miqat_djibouti',

        'ููุฌูุฑูุง': 'miqat_nigeria', 'ููุฌูุฑู': 'miqat_nigeria',
        'ุฌููุจ ุงูุฑูููุง': 'miqat_south_africa', 'ุฌููุจ ุงูุฑููู': 'miqat_south_africa',

        'ุงูููุณูู': 'miqat_mexico', 'ููุณููู': 'miqat_mexico',
        'ุงูุงุฑุฌูุชูู': 'miqat_argentina', 'ุงุฑุฌูุชููู': 'miqat_argentina'
    }

    # ุงูุชุญูู ูู ุงููููุงุช ุฃููุงู
    if any(keyword in text_norm for keyword in miqat_keywords):
        # ุงูุจุญุซ ูู ุฌููุน ููุงุฆู ุงูุจูุฏุงู
        all_countries = {**sham_countries, **egypt_countries,
                         **yemen_countries, **gulf_countries, **other_countries}

        for country_keyword, miqat_type in all_countries.items():
            if country_keyword in text_norm:
                return miqat_type

        # ุฅุฐุง ุฐูุฑ ูููุงุช ุจุฏูู ุจูุฏ
        if 'ุดุงู' in text_norm or 'ุณูุฑ' in text_norm or 'ูุจู' in text_norm or 'ููุณุทูู' in text_norm or 'ุงุฑุฏู' in text_norm:
            return "miqat_sham"
        elif 'ูุตุฑ' in text_norm or 'ุดูุงู' in text_norm or 'ุงูุฑูููุง' in text_norm:
            return "miqat_egypt"
        elif 'ููู' in text_norm:
            return "miqat_yemen"
        elif 'ุฎููุฌ' in text_norm or 'ุณุนูุฏ' in text_norm or 'ุงูุงุฑุงุช' in text_norm or 'ุฏุจู' in text_norm:
            return "miqat_saudi"
        else:
            return "miqat_menu"
async def mistakes_menu_show(update, context):
    await update.message.reply_text(
        "ุงุฎุชุฑ ุงูุฎุทุฃ ุงูุฐู ููุนุช ููู:",
        reply_markup=markup_mistakes
    )


async def mistake_detail(update, text):
    await update.message.reply_text(text, reply_markup=markup_mistakes)
    
    
    # ================= ุจููุฉ ุงููุนุงูุฌุงุช =================
    # ุงูุญุฌ
    hajj_keywords = ['ุญุฌ', 'ุญุฌุงุฌ', 'ุงูุญุฌ', 'ุญุฌุฌ', 'ุญุฌู', 'ุญุฌุง']
    if any(keyword in text_norm for keyword in hajj_keywords):
        return "hajj"

    # ุงูุนูุฑุฉ
    umrah_keywords = ['ุนูุฑู', 'ุนูุฑุฉ', 'ุนูุฑ', 'ุงูุนูุฑุฉ', 'ุงูุนูุฑู']
    if any(keyword in text_norm for keyword in umrah_keywords):
        return "umrah"

    # ุงูุฃุฏุนูุฉ
    # ================= ุงูุฃุฏุนูุฉ =================
    if text_norm in ["ุงุฏุนูู", "ุงุฏุนูุฉ", "ุฏุนุงุก", "ุงูุงุฏุนูู", "ุงูุงุฏุนูุฉ"]:
        return "dua_menu"

    if "ุงุญุฑุงู" in text_norm:
        return "dua_ihram"

    if "ุทูุงู" in text_norm:
        return "dua_tawaf"

    if "ุณุนู" in text_norm:
        return "dua_saee"

    if "ุนุฑูู" in text_norm or "ุนุฑูุฉ" in text_norm:
        return "dua_arafah"

    if "ุฌูุฑุงุช" in text_norm or "ุฑูู" in text_norm:
        return "dua_jamarat"

    # ุงูุฃุฎุทุงุก
    mistakes_keywords = ['ุฎุทุงุก', 'ุฎุทุง', 'ุบูุท', 'ููุงุฑุฉ']
    if any(keyword in text_norm for keyword in mistakes_keywords):
        if 'ูุจุณ ูุฎูุท' in text_norm:
            return "mistake_clothes"
        elif 'ุทูุจ' in text_norm:
            return "mistake_perfume"
        elif 'ูุต ุดุนุฑ' in text_norm or 'ูุต ุงุธุงูุฑ' in text_norm:
            return "mistake_hair_nails"
        elif 'ุชุบุทูุฉ ุงูุฑุฃุณ' in text_norm:
            return "mistake_cover_head" 
        elif 'ุทูุงู ุจุฏูู ูุถูุก' in text_norm:
            return "mistake_tawaf_no_wudu"
        elif 'ูุณู ุดูุท' in text_norm:
            return "mistake_miss_shawt"
        else:
            return "mistakes_menu"

    # ุงูููุงูุน
    map_keywords = ['ุฎุฑูุทุฉ', 'ูููุน', 'ููุงู', 'ุงูู', 'ููู']
    if any(keyword in text_norm for keyword in map_keywords):

        if 'ุญุฑุงู' in text_norm:
            return "map_haram"
        elif 'ุตูุง' in text_norm:
            return "map_safa"
        elif 'ูุฑูู' in text_norm:
            return "map_marwa"
        else:
            return "map_menu"

    # ุงูุชุฑุญูุจ ูุงูุนูุฏุฉ
    if any(word in text_norm for word in ['ุงููุง', 'ูุฑุญุจุง', 'ุณูุงู']):
        return "start"
    elif any(word in text_norm for word in ['ุฑุฌูุน', 'ุฑุฌุน', 'ุนูุฏู']):
        return "back"

    return "unknown"

# ================= ูุธุงุฆู ุงูุญุฌ ูุงูุนูุฑุฉ =================


async def handle_hajj(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text.lower()

    if "ุงุฑูุงู" in text:
        response = """**ุฃุฑูุงู ุงูุญุฌ:**
1๏ธโฃ **ุงูุฅุญุฑุงู**: ุงูููุฉ ูุงูุฏุฎูู ูู ุงููุณู
2๏ธโฃ **ุงููููู ุจุนุฑูุฉ**: ูู ุฒูุงู ุงูุดูุณ ููู ุนุฑูุฉ ุฅูู ูุฌุฑ ููู ุงููุญุฑ
3๏ธโฃ **ุทูุงู ุงูุฅูุงุถุฉ**: ุจุนุฏ ุงููููู ุจุนุฑูุฉ
4๏ธโฃ **ุงูุณุนู ุจูู ุงูุตูุง ูุงููุฑูุฉ**: ุจุนุฏ ุงูุทูุงู
"""
    elif "ูุงุฌุจุงุช" in text:
        response = """**ูุงุฌุจุงุช ุงูุญุฌ:**
1. ุงูุฅุญุฑุงู ูู ุงููููุงุช
2. ุงููุจูุช ุจูุฒุฏููุฉ
3. ุงููุจูุช ุจููู
4. ุฑูู ุงูุฌูุฑุงุช
5. ุงูุญูู ุฃู ุงูุชูุตูุฑ
6. ุทูุงู ุงููุฏุงุน
"""
    else:
        response = """**ููุงุณู ุงูุญุฌ ุฎุทูุฉ ุจุฎุทูุฉ:**

**ุงูุฃูุงู ุงูุซูุงุซุฉ ุงูุฃููู (8-10 ุฐู ุงูุญุฌุฉ):**
๐ **ุงูููู 8 (ุงูุชุฑููุฉ):** ุงูุฅุญุฑุงู ูุงููุจูุช ูู ููู

๐ **ุงูููู 9 (ุนุฑูุฉ):**
๐ ุงูุตุจุงุญ: ุงูุฐูุงุจ ุฅูู ุนุฑูุฉ
โ๏ธ ุงูุธูุฑ: ุงููููู ูุงูุฏุนุงุก ุญุชู ุงูุบุฑูุจ
๐ ุงููุณุงุก: ุงูุชูุฌู ุฅูู ูุฒุฏููุฉ

๐ **ุงูููู 10 (ุงููุญุฑ):**
๐ ุงููุฌุฑ: ุงูุตูุงุฉ ูู ูุฒุฏููุฉ ูุฌูุน ุงูุญุตู
๐ ุงูุตุจุงุญ: ุฑูู ุฌูุฑุฉ ุงูุนูุจุฉ โ ุงูุญูู โ ุงูุฐุจุญ โ ุงูุทูุงู

**ุฃูุงู ุงูุชุดุฑูู (11-13 ุฐู ุงูุญุฌุฉ):**
๐ ุฑูู ุงูุฌูุฑุงุช ุงูุซูุงุซ โ ุงููุจูุช ูู ููู โ ุชูุฑุงุฑ ููุฏุฉ 2-3 ุฃูุงู

**ุฃุฎูุฑุงู:** ุทูุงู ุงููุฏุงุน ุนูุฏ ุงููุบุงุฏุฑุฉ
"""

    await update.message.reply_text(response, reply_markup=markup_back, parse_mode='Markdown')


async def handle_umrah(update: Update, context: ContextTypes.DEFAULT_TYPE):
    response = """**ูุนูููุงุช ุดุงููุฉ ุนู ุงูุนูุฑุฉ:**

๐ **ูุง ูู ุงูุนูุฑุฉุ**
ุฒูุงุฑุฉ ุจูุช ุงููู ุงูุญุฑุงู ูุฃุฏุงุก ูุณู ูุฎุตูุต ูู ุทูุงู ูุณุนู ูุญูู.

**ุฎุทูุงุช ุงูุนูุฑุฉ ุจุงูุชุฑุชูุจ:**
1๏ธโฃ **ุงูุฅุญุฑุงู ูู ุงููููุงุช**
   - ุงูููุฉ: "ุงูููู ุฅูู ุฃุฑูุฏ ุงูุนูุฑุฉ"
   - ุงูุชูุจูุฉ: "ูุจูู ุงูููู ุนูุฑุฉ"

2๏ธโฃ **ุงูุทูุงู ุญูู ุงููุนุจุฉ (7 ุฃุดูุงุท)**
   - ุชุจุฏุฃ ูู ุงูุญุฌุฑ ุงูุฃุณูุฏ
   - ุชุฏูุฑ ุนูุณ ุนูุงุฑุจ ุงูุณุงุนุฉ
   - ุชูุจุฑ ุนูุฏ ุงููุฑูุฑ ุจุงูุญุฌุฑ ุงูุฃุณูุฏ

3๏ธโฃ **ุตูุงุฉ ุฑูุนุชูู ุฎูู ููุงู ุฅุจุฑุงููู**

4๏ธโฃ **ุงูุณุนู ุจูู ุงูุตูุง ูุงููุฑูุฉ (7 ุฃุดูุงุท)**
   - ุชุจุฏุฃ ูู ุงูุตูุง ูุชูุชูู ุจุงููุฑูุฉ
   - ุงููุฑููุฉ ุจูู ุงูุนูููู ุงูุฃุฎุถุฑูู (ููุฑุฌุงู)

5๏ธโฃ **ุงูุญูู ุฃู ุงูุชูุตูุฑ**
   - ุงูุฑุฌุงู: ุงูุญูู ุฃูุถู ุฃู ุงูุชูุตูุฑ
   - ุงููุณุงุก: ุชูุตูุฑ ูุฏุฑ ุฃูููุฉ ูู ุงูุดุนุฑ

๐ **ูุชู ุชุคุฏูุ**
ูู ุฃู ููุช ูู ุงูุณูุฉุ ูุฃูุถููุง ูู ุฑูุถุงู.
"""
    await update.message.reply_text(response, reply_markup=markup_back, parse_mode='Markdown')

# ================= ูุธุงุฆู ุงูุฃุฏุนูุฉ =================


async def duas_menu(update, context):
    text = (
        "**ุฃุฏุนูุฉ ุงูุญุฌ ูุงูุนูุฑุฉ:**\n\n"
        "ุงูุชุจ ูุง ุชุฑูุฏ:\n"
        "โข 'ุฃุฏุนูุฉ ุงูุฅุญุฑุงู'\n"
        "โข 'ุฏุนุงุก ุงูุทูุงู'\n"
        "โข 'ุฃุฏุนูุฉ ุงูุณุนู'\n"
        "โข 'ุฏุนุงุก ุนุฑูุฉ'\n"
        "โข 'ุฃุฏุนูุฉ ุงูุฌูุฑุงุช'\n"
        "โข 'ุฃุฏุนูุฉ ุนุงูุฉ'"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')


async def dua_ihram(update, context):
    text = (
        "**ุฃุฏุนูุฉ ุงูุฅุญุฑุงู:**\n\n"
        "๐ฟ *ุงูููุฉ:*\n"
        "ุงูููู ุฅูู ูููุช ุงูุนูุฑุฉ/ุงูุญุฌ ููุณุฑู ูู ูุชูุจูู ููู.\n\n"
        "๐ฟ *ุงูุฏุนุงุก:*\n"
        "ุงูููู ุฅูู ุฃุณุฃูู ุฑุถุงู ูุงูุฌูุฉุ ูุฃุนูุฐ ุจู ูู ุณุฎุทู ูุงููุงุฑ.\n\n"
        "๐ฟ *ุงูุชูุจูุฉ:*\n"
        "ูุจูู ุงูููู ูุจููุ ูุจูู ูุง ุดุฑูู ูู ูุจููุ ุฅู ุงูุญูุฏ ูุงููุนูุฉ ูู ูุงููููุ ูุง ุดุฑูู ูู."
    )
    await update.message.reply_text(text, parse_mode='Markdown')


async def dua_tawaf(update, context):
    text = (
        "**ุฃุฏุนูุฉ ุงูุทูุงู:**\n\n"
        "๐ฟ *ูู ุจุฏุงูุฉ ูู ุดูุท:*\n"
        "ุจุณู ุงููู ูุงููู ุฃูุจุฑ\n\n"
        "๐ฟ *ุฏุนุงุก ุนุงู:*\n"
        "ุฑุจูุง ุขุชูุง ูู ุงูุฏููุง ุญุณูุฉ ููู ุงูุขุฎุฑุฉ ุญุณูุฉ ูููุง ุนุฐุงุจ ุงููุงุฑ.\n\n"
        "๐ฟ *ุฏุนุงุก ุขุฎุฑ:*\n"
        "ุงูููู ุงุบูุฑ ูุงุฑุญู ูุงุนู ุนูุง ุชุนููุ ุฅูู ุฃูุช ุงูุฃุนุฒ ุงูุฃูุฑู."
    )
    await update.message.reply_text(text, parse_mode='Markdown')


async def dua_saee(update, context):
    text = (
        "**ุฃุฏุนูุฉ ุงูุณุนู:**\n\n"
        "๐ฟ *ุนูุฏ ุงูุตูุง:*\n"
        "ุฅูููู ุงูุตููููุง ููุงููููุฑูููุฉู ููู ุดูุนูุงุฆูุฑู ุงูููููู\n\n"
        "๐ฟ *ุฃุซูุงุก ุงูุณุนู:*\n"
        "ุฑุจ ุงุบูุฑ ูุงุฑุญู ูุชุฌุงูุฒ ุนูุง ุชุนูู.\n\n"
        "๐ฟ *ุนูุฏ ุงููุฑูุฉ:*\n"
        "ุงูููู ุงุฌุนููู ูู ุงูููุจูููู."
    )
    await update.message.reply_text(text, parse_mode='Markdown')


async def dua_arafah(update, context):
    text = (
        "**ุฃุฏุนูุฉ ููู ุนุฑูุฉ:**\n\n"
        "๐ฟ *ุฃูุถู ุงูุฏุนุงุก:*\n"
        "ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ููุ ูู ุงูููู ููู ุงูุญูุฏ ููู ุนูู ูู ุดูุก ูุฏูุฑ.\n\n"
        "๐ฟ *ุฏุนุงุก ุนุงู:*\n"
        "ุงูููู ุงุบูุฑ ูู ูููุงูุฏู ููููุคูููู ูุงููุคููุงุช.\n\n"
        "๐ฟ *ุฏุนุงุก ุดุงูู:*\n"
        "ุงูููู ุฃุตูุญ ูู ุฏููู ูุฏููุงู ูุขุฎุฑุชู."
    )
    await update.message.reply_text(text, parse_mode='Markdown')


async def dua_jamarat(update, context):
    text = (
        "**ุฃุฏุนูุฉ ุฑูู ุงูุฌูุฑุงุช:**\n\n"
        "๐ฟ *ุนูุฏ ูู ุญุตุงุฉ:*\n"
        "ุงููู ุฃูุจุฑุ ุฑุบูุง ููุดูุทุงู ูุญุฒุจูู.\n\n"
        "๐ฟ *ุจุนุฏ ุงูุฑูู:*\n"
        "ุงูููู ุงุฌุนูู ุญุฌูุง ูุจุฑูุฑูุง ูุณุนููุง ูุดููุฑูุง.\n\n"
        "๐ฟ *ุฏุนุงุก ุนุงู:*\n"
        "ุงูููู ุชูุจู ููู ุฅูู ุฃูุช ุงูุณููุน ุงูุนููู."
    )
    await update.message.reply_text(text, parse_mode='Markdown')


async def dua_general(update, context):
    text = (
        "**ุฃุฏุนูุฉ ุนุงูุฉ:**\n\n"
        "๐ฟ *ูุชูุณูุฑ ุงูุฃููุฑ:*\n"
        "ุฑุจ ุงุดุฑุญ ูู ุตุฏุฑู ููุณุฑ ูู ุฃูุฑู.\n\n"
        "๐ฟ *ูุญุณู ุงูุฎุงุชูุฉ:*\n"
        "ุงูููู ุญุณู ุงูุฎุงุชูุฉ.\n\n"
        "๐ฟ *ุฃุฏุนูุฉ ุฌูููุฉ:*\n"
        "โข ุงูููู ุงุฌุนู ุขุฎุฑ ููุงููุง ูู ุงูุฏููุง ูุง ุฅูู ุฅูุง ุงููู.\n"
        "โข ุงูููู ุงุฑุฒููู ุญุฌูุง ูุจุฑูุฑูุง ูุณุนููุง ูุดููุฑูุง.\n"
        "โข ุงูููู ุงุบูุฑ ูู ุฐูุจู ููู ุฏูู ูุฌูู."
    )
    await update.message.reply_text(text, parse_mode='Markdown')

# ================= ูุธุงุฆู ุงูุฃุฎุทุงุก =================


async def mistakes_menu_show(update, context):
    text = (
        "**ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูููุงุฑุงุชูุง:**\n\n"
        "ุงูุชุจ ุงูุฎุทุฃ ุงูุฐู ุชุฑูุฏ ูุนุฑูุชู:\n"
        "โข 'ูุจุณ ุงููุฎูุท'\n"
        "โข 'ุงูุชุทูุจ ุจุนุฏ ุงูุฅุญุฑุงู'\n"
        "โข 'ูุต ุงูุดุนุฑ ุฃู ุงูุฃุธุงูุฑ'\n"
        "โข 'ุชุบุทูุฉ ุงูุฑุฃุณ'\n"
        "โข 'ุงูุทูุงู ุจุฏูู ูุถูุก'\n"
        "โข 'ูุณู ุดูุท'\n"
        "โข 'ุงูุณุนู ูุจู ุงูุทูุงู'\n"
        "โข 'ุชุฑู ูุงุฌุจ'\n"
        "โข 'ุงูุฌูุงุน'"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')


async def mistake_detail(update, text):
    await update.message.reply_text(text, parse_mode='Markdown')

# ================= ูุธุงุฆู ุงูุฎุฑุงุฆุท =================


async def map_menu_show(update, context):
    text = (
        "**ุงูููุงูุน ุงูููุฏุณุฉ:**\n\n"
        "ุงูุชุจ ุงููููุน ุงูุฐู ุชุฑูุฏ:\n"
        "โข 'ุงููุณุฌุฏ ุงูุญุฑุงู'\n"
        "โข 'ุงูุตูุง'\n"
        "โข 'ุงููุฑูุฉ'\n"
        "โข 'ูููุนู ุงูุญุงูู'"
        "ุงูุชุจ ูููุน ูุน ุงูููุงู ุงูุฐู ุชุฑูุฏู:\n"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')


async def send_haram_location(update, context):
    await update.message.reply_location(latitude=21.4225, longitude=39.8262)
    await update.message.reply_text(
        "**ุงููุณุฌุฏ ุงูุญุฑุงู:**\n"
        "ููุฉ ุงูููุฑูุฉุ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ\n\n"
        "๐ *ุฃูู ุงูุฃูุงูู:*\n"
        "โข ุงููุนุจุฉ ุงููุดุฑูุฉ\n"
        "โข ุงูุญุฌุฑ ุงูุฃุณูุฏ\n"
        "โข ููุงู ุฅุจุฑุงููู\n"
        "โข ุจุฆุฑ ุฒูุฒู",
        parse_mode='Markdown'
    )


async def send_safa_location(update, context):
    await update.message.reply_location(latitude=21.4229, longitude=39.8257)
    await update.message.reply_text(
        "**ุฌุจู ุงูุตูุง:**\n"
        "ูุจุฏุฃ ููู ุงูุณุนู ุจูู ุงูุตูุง ูุงููุฑูุฉ\n\n"
        "๐ *ุนูุฏ ุงูุตุนูุฏ ุนููู:*\n"
        "ููุฑุฃ: ุฅูููู ุงูุตููููุง ููุงููููุฑูููุฉู ููู ุดูุนูุงุฆูุฑู ุงูููููู",
        parse_mode='Markdown'
    )


async def send_marwah_location(update, context):
    await update.message.reply_location(latitude=21.4237, longitude=39.8267)
    await update.message.reply_text(
        "**ุฌุจู ุงููุฑูุฉ:**\n"
        "ููุชูู ุฅููู ุงูุณุนู ุจูู ุงูุตูุง ูุงููุฑูุฉ\n\n"
        "๐ *ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุณุนู:*\n"
        "ูููู ุงูุญุงุฌ ุจุงูุญูู ุฃู ุงูุชูุตูุฑ",
        parse_mode='Markdown'
    )

# ================= ูุนุงูุฌุฉ ุงููููุงุช ููุจูุฏุงู ุงููุฎุชููุฉ =================


async def miqat_sham(update, context):
    """ูููุงุช ุจูุงุฏ ุงูุดุงู"""
    text = (
        "**๐ ูููุงุช ุจูุงุฏ ุงูุดุงู**\n"
        "(ุณูุฑูุงุ ูุจูุงูุ ุงูุฃุฑุฏูุ ููุณุทููุ ุบุฒุฉุ ุงููุฏุณ)\n\n"

        "๐ **ุงููููุงุช:** ุฐู ุงูุญูููุฉ (ุฃุจูุงุฑ ุนูู)\n"
        "๐ **ุงููููุน:** ุดูุงู ุบุฑุจ ุงููุฏููุฉ ุงููููุฑุฉุ ุนูู ุทุฑูู ููุฉ.\n"
        "๐ **ุงููุณุงูุฉ:** ุญูุงูู 450 ูู ูู ููุฉ\n\n"

        "**๐ ุทุฑููุฉ ุงููุตูู:**\n"
        "1. ุนุจุฑ ุงูุทุฑู ุงูุจุฑูุฉ ูู ุงูุดูุงู\n"
        "2. ุนู ุทุฑูู ุงููุฏููุฉ ุงููููุฑุฉ\n"
        "3. ูุนุธู ุงูุญุฌุงุฌ ููุฑูู ุนุจุฑ ุงูุฃุฑุฏู\n\n"

        "**๐ ุงูุฅุฌุฑุงุกุงุช:**\n"
        "โข ุงูููุฉ ูุจู ุงููุตูู ูููููุงุช\n"
        "โข ูุจุณ ุงูุฅุญุฑุงู ูู ุงูุณูุงุฑุฉ ุฃู ุงูุทุงุฆุฑุฉ\n"
        "โข ุจุฏุก ุงูุชูุจูุฉ: 'ูุจูู ุงูููู ุญุฌุงู'\n\n"

        "**๐ก ููุงุญุธุงุช ูุงูุฉ:**\n"
        "โข ุงููููุงุช ุญุฏูุฏูุ ูุง ูุฌูุฒ ุชุฌุงูุฒู ุฏูู ุฅุญุฑุงู\n"
        "โข ุฅุฐุง ูุณู ุงูุญุงุฌุ ูุฑุฌุน ููุฅุญุฑุงู ููู\n"
        "โข ูุฌูุฒ ุงูุฅุญุฑุงู ูุจู ุงููููุงุช ุงุณุชุญุจุงุจุงู"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')
    await update.message.reply_location(latitude=24.9167, longitude=39.6167)


async def miqat_egypt(update, context):
    """ูููุงุช ูุตุฑ ูุดูุงู ุฃูุฑูููุง"""
    text = (
        "**๐ ูููุงุช ูุตุฑ ูุดูุงู ุฃูุฑูููุง**\n"
        "(ูุตุฑุ ููุจูุงุ ุชููุณุ ุงูุฌุฒุงุฆุฑุ ุงููุบุฑุจุ ุงูุณูุฏุงูุ ููุฑูุชุงููุงุ ุชุดุงุฏ)\n\n"

        "๐ **ุงููููุงุช:** ุงูุฌุญูุฉ (ุฑุงุจุบ)\n"
        "๐ **ุงููููุน:** ุนูู ุงูุทุฑูู ุงูุณุงุญูู ุฅูู ููุฉุ ูุฑุจ ุงูุจุญุฑ ุงูุฃุญูุฑ\n"
        "๐ **ุงููุณุงูุฉ:** ุญูุงูู 180 ูู ุดูุงู ุบุฑุจ ููุฉ\n\n"

        "**โ๏ธ ููุญุฌุงุฌ ุงูุฌูููู:**\n"
        "1. **ุฅุฐุง ูุจุทุช ูู ุฌุฏุฉ:**\n"
        "   โข ุชุญุฑู ูู ุงููุทุงุฑ ุฃู ูุจู ุงููุฒูู\n"
        "   โข ูุง ูุฌูุฒ ุชุฃุฎูุฑ ุงูุฅุญุฑุงู\n\n"

        "2. **ุฅุฐุง ูุจุทุช ูู ุงููุฏููุฉ:**\n"
        "   โข ุชุญุฑู ูู ุฐู ุงูุญูููุฉ (ุฃุจูุงุฑ ุนูู)\n\n"

        "**๐ข ููุญุฌุงุฌ ุงูุจุญุฑููู:**\n"
        "โข ูุญุฑููู ุนูุฏ ูุญุงุฐุงุฉ ุงูุฌุญูุฉ\n"
        "โข ุฃู ูุจู ูุตูู ุงูุณูููุฉ ูููููุงุช\n\n"

        "**๐ ุชูุจููุงุช:**\n"
        "โข ุญุฌุงุฌ ูุตุฑ ุนุงุฏุฉ ูุฐูุจูู ุฌูุงู ุฅูู ุฌุฏุฉ\n"
        "โข ูุง ูุฌูุฒ ุชุฌุงูุฒ ุงููููุงุช ุฏูู ุฅุญุฑุงู\n"
        "โข ูู ูุณู ูุฑุฌุน ุฃู ูุฐุจุญ ูุฏูุฉ"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')
    await update.message.reply_location(latitude=26.3294, longitude=35.3123)


async def miqat_yemen(update, context):
    """ูููุงุช ุงูููู"""
    text = (
        "**๐ ูููุงุช ุงูููู**\n"
        "(ุงููููุ ุญุถุฑููุชุ ุตูุนุงุกุ ุนุฏู)\n\n"

        "๐ **ุงููููุงุช:** ูููููู\n"
        "๐ **ุงููููุน:** ุดุฑู ููุฉ ุนูู ุญุฏูุฏ ูุฌุฏ\n"
        "๐ **ุงููุณุงูุฉ:** ุญูุงูู 100 ูู ุดุฑู ููุฉ\n\n"

        "**๐ ุทุฑู ุงููุตูู:**\n"
        "1. ุงูุทุฑูู ุงูุจุฑู ุนุจุฑ ูุฌุฑุงู\n"
        "2. ุจุนุถ ุงูููุงุทู ุชุญุฑู ูู ูุฑู ุงูููุงุฒู\n"
        "3. ุญุฌุงุฌ ุงูุฌููุจ ูุฏ ููุฑูู ูู ุงูุณุงุญู\n\n"

        "**โ๏ธ ููุญุฌุงุฌ ุงูุฌูููู:**\n"
        "โข ุฅุฐุง ูุจุทุช ูู ุฌุฏุฉ: ุชุญุฑู ูู ุงููุทุงุฑ\n"
        "โข ุฅุฐุง ูุจุทุช ูู ุฃุจูุง: ุชุญุฑู ูู ุงููููุงุช\n\n"

        "**๐ ููุงุญุธุงุช:**\n"
        "โข ูููุงุช ููููู ุฎุงุต ุจุฃูู ุงูููู\n"
        "โข ููุงุทู ุงูุฌููุจ ูุฏ ุชุญุฑู ูู ูุฑู\n"
        "โข ุงูุงุณุชุนูุงู ูู ุงูุนููุงุก ุงููุญูููู"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')
    await update.message.reply_location(latitude=21.4167, longitude=40.6000)


async def miqat_saudi(update, context):
    """ูููุงุช ุงูุณุนูุฏูุฉ ูุฏูู ุงูุฎููุฌ"""
    text = (
        "**๐ ูููุงุช ุงูุณุนูุฏูุฉ ูุฏูู ุงูุฎููุฌ**\n"
        "(ุงูุณุนูุฏูุฉุ ุงูุฅูุงุฑุงุชุ ูุทุฑุ ุงููููุชุ ุงูุจุญุฑููุ ุนููุงู)\n\n"

        "๐ **ุงููููุงุช ุงูุนุงู:** ูุฑู ุงูููุงุฒู (ุงูุณูู ุงููุจูุฑ)\n"
        "๐ **ุงููููุน:** ุดุฑู ููุฉ ุนูู ุทุฑูู ุงูุทุงุฆู\n"
        "๐ **ุงููุณุงูุฉ:** ุญูุงูู 75 ูู ุดุฑู ููุฉ\n\n"

        "**๐ ูุฃูู ููุฉ ูุงููุฏููุฉ:**\n"
        "โข **ููุฉ:** ูุญุฑููู ูู ุจููุชูู\n"
        "โข **ุงููุฏููุฉ:** ุฐู ุงูุญูููุฉ (ุฃุจูุงุฑ ุนูู)\n"
        "โข **ุงูุทุงุฆู:** ููููู ุฃู ูุฑู ุงูููุงุฒู\n\n"

        "**๐ ุญุณุจ ุงููุฏููุฉ:**\n"
        "1. **ุงูุฑูุงุถ ูุงูุดุฑููุฉ:** ูุฑู ุงูููุงุฒู\n"
        "2. **ุงูุฌููุจ (ูุฌุฑุงู):** ููููู\n"
        "3. **ุงูุดูุงู (ุญุงุฆู):** ุฐุงุช ุนุฑู\n"
        "4. **ุงูุบุฑุจ (ุฌุฏุฉ):** ูุญุฑู ูู ููุฒูู\n\n"

        "**๐ก ููุฅูุงุฑุงุช ููุทุฑ ูุงููููุช:**\n"
        "โข ููุฑูู ุนุงุฏุฉ ุนุจุฑ ุงูุฑูุงุถ\n"
        "โข ูููุงุชูู ูุฑู ุงูููุงุฒู\n"
        "โข ุฃู ูุญุฑููู ุนูุฏ ุงูุชุฑุงุจูู ููู"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')
    await update.message.reply_location(latitude=21.3500, longitude=40.2000)


async def miqat_america(update, context):
    """ูููุงุช ุฃูุฑููุง ูููุฏุง"""
    text = (
        "**๐ ูููุงุช ุฃูุฑููุง ูููุฏุง ูุฃูุฑูุจุง ุงูุบุฑุจูุฉ**\n"
        "(ุงูููุงูุงุช ุงููุชุญุฏุฉุ ููุฏุงุ ุจุฑูุทุงููุงุ ูุฑูุณุงุ ุฃููุงููุงุ ุฅูุทุงููุง)\n\n"

        "๐ **ุงููููุงุช:** ุงูุฌุญูุฉ (ูููุงุฏููู ุฌูุงู)\n"
        "๐ **ูุนุธู ุงูุญุฌุงุฌ ูุตููู ุนู ุทุฑูู:**\n"
        "โข ูุทุงุฑ ุงูููู ุนุจุฏุงูุนุฒูุฒ ุจุฌุฏุฉ\n"
        "โข ูุทุงุฑ ุงูุฃููุฑ ูุญูุฏ ุจู ุนุจุฏุงูุนุฒูุฒ ุจุงููุฏููุฉ\n\n"

        "**โ๏ธ ุฅุฌุฑุงุกุงุช ุงูุฅุญุฑุงู:**\n"
        "1. **ุฅุฐุง ูุจุทุช ูู ุฌุฏุฉ:**\n"
        "   โข ุชุญุฑู ูู ุงูุทุงุฆุฑุฉ ูุจู ุงููุจูุท\n"
        "   โข ููุช ููุงุณุจ: ูุจู ุงููุจูุท ุจุณุงุนุฉ\n"
        "   โข ุงูุชูุจูุฉ ูู ุงูุทุงุฆุฑุฉ ุฌุงุฆุฒุฉ\n\n"
        "2. **ุฅุฐุง ูุจุทุช ูู ุงููุฏููุฉ:**\n"
        "   โข ุชูุชูู ุฅูู ููุฉ ุจุฑุงู\n"
        "   โข ุชุญุฑู ูู ุฐู ุงูุญูููุฉ (ุฃุจูุงุฑ ุนูู)\n\n"

        "**๐ก ูุตุงุฆุญ:**\n"
        "โข ุฎุฐ ููุงุจุณ ุงูุฅุญุฑุงู ูู ุญููุจุฉ ุงููุฏ\n"
        "โข ุงุณุชุดุฑ ุฎุท ุงูุทูุฑุงู ุนู ููุช ุงูุฅุญุฑุงู\n"
        "โข ูุนุธู ุดุฑูุงุช ุงูุทูุฑุงู ุชูุจู ุงูุญุฌุงุฌ"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')


async def miqat_asia(update, context):
    """ูููุงุช ุขุณูุง (ุงูููุฏุ ุจุงูุณุชุงูุ ุฅูุฏูููุณูุงุ ูุงููุฒูุง)"""
    text = (
        "**๐ ูููุงุช ุฏูู ุขุณูุง**\n"
        "(ุงูููุฏุ ุจุงูุณุชุงูุ ุฅูุฏูููุณูุงุ ูุงููุฒูุงุ ุจูุบูุงุฏูุดุ ุฃูุบุงูุณุชุงู)\n\n"

        "๐ **ุงููููุงุช:** ููููู (ูููุงุฏููู ุจุญุฑุงู)\n"
        "๐ **ูููุงุฏููู ุฌูุงู:** ูุญุฑููู ูู ุงูุทุงุฆุฑุฉ\n\n"

        "**โ๏ธ ููุญุฌุงุฌ ุงูุฌูููู:**\n"
        "โข **ุงูููุฏ ูุจุงูุณุชุงู:**\n"
        "   - ุชุญุฑููู ูู ุงูุทุงุฆุฑุฉ ูุจู ุฏุฎูู ุงูุฃุฌูุงุก ุงูุณุนูุฏูุฉ\n"
        "   - ููุช ุงูุฅุญุฑุงู: ูุจู ุงููุจูุท ุจุณุงุนุชูู ุชูุฑูุจุงู\n\n"

        "โข **ุฅูุฏูููุณูุง ููุงููุฒูุง:**\n"
        "   - ุงูุฅุญุฑุงู ูู ุงูุทุงุฆุฑุฉ\n"
        "   - ุงููููุงุช ููุน ูู ุงูุจุญุฑ\n"
        "   - ุฎุทูุท ุงูุทูุฑุงู ุชูุจู ุนุงุฏุฉ\n\n"

        "**๐ข ููุญุฌุงุฌ ุงูุจุญุฑููู:**\n"
        "โข ูููุงุชูู ููููู\n"
        "โข ูุญุฑููู ุนูุฏ ูุญุงุฐุงุฉ ุงูุณุงุญู\n"
        "โข ุฃู ูุจู ุงููุตูู ุฅูู ุงููููุงุช\n\n"

        "**๐ก ุชูุจูู:**\n"
        "โข ุงุณุชุนูู ูู ููุชุจ ุงูุญุฌ ูู ุจูุฏู\n"
        "โข ุดุฑูุงุช ุงูุทูุฑุงู ุชูุถุญ ููุช ุงูุฅุญุฑุงู\n"
        "โข ูุง ุชูุชุธุฑ ุญุชู ุงููุทุงุฑ"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')


async def miqat_general(update, context):
    """ูุนูููุงุช ุนุงูุฉ ุนู ุงููููุงุช"""
    text = (
        "**๐ ูุนูููุงุช ุนุงูุฉ ุนู ููุงููุช ุงูุฅุญุฑุงู**\n\n"

        "**๐ ุงูููุงููุช ุงูููุงููุฉ ุงูุฎูุณุฉ:**\n"
        "1. **ุฐู ุงูุญูููุฉ:** ูุฃูู ุงููุฏููุฉ ูุงูุดุงู\n"
        "2. **ุงูุฌุญูุฉ:** ูุฃูู ูุตุฑ ูุดูุงู ุฃูุฑูููุง\n"
        "3. **ููููู:** ูุฃูู ุงูููู ูุงูุฌููุจ\n"
        "4. **ูุฑู ุงูููุงุฒู:** ูุฃูู ูุฌุฏ ูุงูุดุฑู\n"
        "5. **ุฐุงุช ุนุฑู:** ูุฃูู ุงูุนุฑุงู ูุงูุดูุงู\n\n"

        "**โ ุฃุณุฆูุฉ ุดุงุฆุนุฉ:**\n"
        "โข **ูู ูุณู ุงูุฅุญุฑุงูุ** ูุฑุฌุน ูููููุงุช ุฃู ูุฐุจุญ\n"
        "โข **ุงูุญุงุฆุถุ** ุชุญุฑู ูุชุชููู ุนู ุงูุชูุจูุฉ\n"
        "โข **ุงููุฑูุถุ** ูุญุฑู ููุฑุฎุต ูู\n"
        "โข **ูู ุฏุงุฎู ุงูููุงููุชุ** ูุญุฑู ูู ููุงูู\n\n"

        "**๐ก ูุงุนุฏุฉ ุนุงูุฉ:**\n"
        "ุฃู ุดุฎุต ูุงุตุฏ ููุฉ ููุญุฌ ุฃู ุงูุนูุฑุฉ:\n"
        "1. ูุง ูุฌูุฒ ูู ุชุฌุงูุฒ ุงููููุงุช ุฏูู ุฅุญุฑุงู\n"
        "2. ูุณุชุญุจ ุงูุฅุญุฑุงู ูู ุงููููุงุช\n"
        "3. ูุฌูุฒ ุงูุฅุญุฑุงู ูุจูู ุงุณุชุญุจุงุจุงู\n"
        "4. ูู ูุณู ูุฑุฌุน ุฃู ุนููู ุงููุฏูุฉ"
    )
    await update.message.reply_text(text, reply_markup=markup_back, parse_mode='Markdown')

# ================= start ูุญุณูู =================


async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    welcome_text = """
๐ *ูุฑุญุจุง ุจู ูู ูุณุงุนุฏ ุงูุญุฌ ูุงูุนูุฑุฉ* ๐คฒ

*ููุงุณุชุนูุงู ุนู ุงููููุงุชุ ุงูุชุจ ุงุณู ุจูุฏู ูุซู:*
โข "ูุตุฑ" ุฃู "ุงููุบุฑุจ" ุฃู "ุงูุฌุฒุงุฆุฑ"
โข "ุณูุฑูุง" ุฃู "ูุจูุงู" ุฃู "ููุณุทูู"
โข "ุงูุณุนูุฏูุฉ" ุฃู "ุงูุฅูุงุฑุงุช" ุฃู "ูุทุฑ"
โข "ุฃูุฑููุง" ุฃู "ููุฏุง" ุฃู "ุจุฑูุทุงููุง"
โข "ุงูููุฏ" ุฃู "ุจุงูุณุชุงู" ุฃู "ุฅูุฏูููุณูุง"

*ุฃู ุงูุชุจ ุฃู ููุง ููู:*
โข "ุนูุฑู" ุฃู "ุนูุฑุฉ" ุฃู "ุงูุนูุฑุฉ"
โข "ุญุฌ" ุฃู "ุงูุญุฌ" ุฃู "ุญุฌุงุฌ"
โข "ุฏุนุงุก ุทูุงู" ุฃู "ุฃุฏุนูุฉ ุงูุณุนู"
โข "ุฎุฑูุทุฉ ุงูุญุฑู" ุฃู "ูููุน ุงูุตูุง"
โข "ุฎุทุฃ ูุจุณ ูุฎูุท" ุฃู "ููุงุฑุฉ ูุต ุดุนุฑ"

*ุฃู ุงุฎุชุฑ ูู ุงููุงุฆูุฉ:* ๐
"""
    await update.message.reply_text(welcome_text, reply_markup=markup_main, parse_mode='Markdown')


async def send_current_location(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """
    ูุฑุณู ูููุน ุงูุญุงุฌ ุงูุญุงูู
    """
    if update.message.location:
        lat = update.message.location.latitude
        lon = update.message.location.longitude

        # ุญุณุงุจ ุงููุณุงูุฉ ูู ุงูุญุฑู
        dist_haram = distance_m(lat, lon, 21.4225, 39.8262)

        await update.message.reply_location(latitude=lat, longitude=lon)
        await update.message.reply_text(
            f"**ูููุนู ุงูุญุงูู:**\n"
            f"๐ ุฎุท ุงูุนุฑุถ: {lat}\n"
            f"๐ ุฎุท ุงูุทูู: {lon}\n\n"
            f"**ุงููุณุงูุฉ ูู ุงูุญุฑู:** {dist_haram} ูุชุฑ\n\n"
            f"๐ก *ุฅุฐุง ููุช ูู ููุฉุ ููููู ุงูุฅุญุฑุงู ูู ููุงูู*",
            reply_markup=markup_main,
            parse_mode='Markdown'
        )
    else:
        await update.message.reply_text(
            "๐ **ูุฑุฌู ุงูุถุบุท ุนูู ุฒุฑ 'ุฅุฑุณุงู ูููุนู' ููุญุตูู ุนูู ูููุนู:**",
            reply_markup=location_keyboard,
            parse_mode='Markdown'
        )


def distance_m(lat1, lon1, lat2, lon2):
    """ุญุณุงุจ ุงููุณุงูุฉ ุจูู ููุทุชูู"""
    R = 6371000
    phi1 = math.radians(lat1)
    phi2 = math.radians(lat2)
    dphi = math.radians(lat2 - lat1)
    dlambda = math.radians(lon2 - lon1)

    a = math.sin(dphi/2)**2 + math.cos(phi1) * \
        math.cos(phi2)*math.sin(dlambda/2)**2
    return int(R * (2 * math.atan2(math.sqrt(a), math.sqrt(1-a))))

# ================= ุงูุฑุฏ ุนูู ุงูุฑุณุงุฆู ุงููุตูุฉ =================


async def reply(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text.strip()
    intent = process_text(text)

    # ================= ูุนุงูุฌุฉ ุงููููุงุช =================
    if intent == "miqat_sham":
        await miqat_sham(update, context)
    elif intent == "miqat_egypt":
        await miqat_egypt(update, context)
    elif intent == "miqat_yemen":
        await miqat_yemen(update, context)
    elif intent == "miqat_saudi":
        await miqat_saudi(update, context)
    elif intent in ["miqat_uae", "miqat_qatar", "miqat_kuwait", "miqat_bahrain", "miqat_oman"]:
        await miqat_saudi(update, context)  # ูู ุงูุฎููุฌ ููุณ ุงููููุงุช

    # ุงูุฏูู ุงูุฃุฎุฑู
    elif intent in ["miqat_america", "miqat_canada", "miqat_uk", "miqat_france",
                    "miqat_germany", "miqat_italy", "miqat_australia"]:
        await miqat_america(update, context)

    elif intent in ["miqat_india", "miqat_pakistan", "miqat_indonesia",
                    "miqat_malaysia", "miqat_afghanistan", "miqat_bangladesh",
                    "miqat_china", "miqat_japan", "miqat_korea"]:
        await miqat_asia(update, context)

    elif intent in ["miqat_turkey", "miqat_iran", "miqat_russia", "miqat_brazil",
                    "miqat_argentina", "miqat_mexico", "miqat_ethiopia",
                    "miqat_somalia", "miqat_nigeria", "miqat_south_africa"]:
        await miqat_general(update, context)

    elif intent == "miqat_menu":
        # ุนุฑุถ ูุงุฆูุฉ ุจุงูููุงุทุงุช ุงูุฑุฆูุณูุฉ
        menu_text = (
            "**๐ ุงุฎุชุฑ ููุทูุชู ุฃู ุงูุชุจ ุงุณู ุจูุฏู:**\n\n"

            "**๐ธ๐พ ุจูุงุฏ ุงูุดุงู:**\n"
            "โข ุณูุฑูุงุ ูุจูุงูุ ุงูุฃุฑุฏูุ ููุณุทูู\n\n"

            "**๐ช๐ฌ ูุตุฑ ูุดูุงู ุฃูุฑูููุง:**\n"
            "โข ูุตุฑุ ููุจูุงุ ุชููุณุ ุงูุฌุฒุงุฆุฑุ ุงููุบุฑุจุ ุงูุณูุฏุงู\n\n"

            "**๐พ๐ช ุงูููู:**\n"
            "โข ุงููููุ ุญุถุฑููุช\n\n"

            "**๐ธ๐ฆ ุงูุฎููุฌ ุงูุนุฑุจู:**\n"
            "โข ุงูุณุนูุฏูุฉุ ุงูุฅูุงุฑุงุชุ ูุทุฑุ ุงููููุชุ ุงูุจุญุฑููุ ุนููุงู\n\n"

            "**๐บ๐ธ ุฃูุฑููุง ูุฃูุฑูุจุง:**\n"
            "โข ุฃูุฑููุงุ ููุฏุงุ ุจุฑูุทุงููุงุ ูุฑูุณุงุ ุฃููุงููุง\n\n"

            "**๐ฎ๐ณ ุขุณูุง:**\n"
            "โข ุงูููุฏุ ุจุงูุณุชุงูุ ุฅูุฏูููุณูุงุ ูุงููุฒูุง\n\n"

            "**๐ก ุงูุชุจ ูุจุงุดุฑุฉ ูุซู:**\n"
            "โข 'ูุตุฑ' ุฃู 'ุฃุญุฑู ูู ูุตุฑ'\n"
            "โข 'ุณูุฑูุง' ุฃู 'ูุจูุงู'\n"
            "โข 'ุฃูุฑููุง' ุฃู 'ุงูููุฏ'\n"
            "โข 'ุงูุฅูุงุฑุงุช' ุฃู 'ุงูุณุนูุฏูุฉ'"
        )
        await update.message.reply_text(menu_text, reply_markup=markup_back, parse_mode='Markdown')

    # ================= ูุนุงูุฌุฉ ุจุงูู ุงูููุงูุง =================
    elif intent == "hajj":
        await handle_hajj(update, context)
    elif intent == "umrah":
        await handle_umrah(update, context)

    # ุงูุฃุฏุนูุฉ
    elif intent == "dua_ihram":
        await dua_ihram(update, context)
    elif intent == "dua_tawaf":
        await dua_tawaf(update, context)
    elif intent == "dua_saee":
        await dua_saee(update, context)
    elif intent == "dua_arafah":
        await dua_arafah(update, context)
    elif intent == "dua_jamarat":
        await dua_jamarat(update, context)
    elif intent == "dua_general":
        await dua_general(update, context)

    # ุงูุฃุฎุทุงุก
    elif intent == "mistakes_menu":
        await mistakes_menu_show(update, context)
    elif intent == "mistake_clothes":
        await mistake_detail(update,
                             "**๐ ูุจุณ ุงููุฎูุท (ููุฑุฌู)**\n\n"
                             "โ **ุฌููุน ุงูุตูุบ:** ูุจุณ ูุฎูุทุ ูุจุณ ููุงุจุณุ ุงุฑุชุฏุงุก ุซูุงุจ\n"
                             "โ๏ธ **ุงูุญูู:** ูุญุธูุฑ ุฅุญุฑุงู\n๐ฐ **ุงูููุงุฑุฉ:** ูุฏูุฉ ุฃุฐู\n\n"
                             "**ูุงุฐุง ุชูุนูุ**\n1. ุงุฎูุนู ููุฑุงู\n2. ุงุฏูุน ุงููุฏูุฉ\n3. ุงุณุชูุฑ ูู ููุงุณูู"
                             )
    elif intent == "mistake_perfume":
        await mistake_detail(update,
                             "**๐น ุงูุชุทูุจ ุจุนุฏ ุงูุฅุญุฑุงู**\n\n"
                             "โ **ุงูุฎุทุฃ:** ุงุณุชุนูุงู ุงูุทูุจ ุฃู ุงูุนุทุฑ ุจุนุฏ ุงูุฅุญุฑุงู\n\n"
                             "โ๏ธ **ุงูุญูู:** ูุญุธูุฑ ุฅุญุฑุงู\n\n"
                             "๐ฐ **ุงูููุงุฑุฉ:** ูุฏูุฉ ุฃุฐู"
                             )

    # ุงูููุงูุน
    elif intent == "map_menu":
        await map_menu_show(update, context)
    elif intent == "map_haram":
        await send_haram_location(update, context)
    elif intent == "map_safa":
        await send_safa_location(update, context)
    elif intent == "map_marwa":
        await send_marwah_location(update, context)
    elif intent == "map_current":
        await update.message.reply_text(
            "๐ **ูุฑุฌู ุงูุถุบุท ุนูู ุฒุฑ 'ุฅุฑุณุงู ูููุนู' ููุญุตูู ุนูู ูููุนู:**",
            reply_markup=location_keyboard,
            parse_mode='Markdown'
        )

    # ุงูุฃุฒุฑุงุฑ ุงูุฃุณุงุณูุฉ
    elif text == "ุฑุฌูุน ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ" or intent == "back":
        await start(update, context)
    elif text == "ุงูุฃุฏุนูุฉ":
        await duas_menu(update, context)
    elif text == "ุงูุฃุฎุทุงุก ูุงูููุงุฑุงุช":
        await mistakes_menu_show(update, context)
    elif text == "ุงูุฎุฑูุทุฉ":
        await map_menu_show(update, context)
    elif text == "ูููุงุช ุงูุฅุญุฑุงู":
        await update.message.reply_text(
            "**๐ ูููุงุช ุงูุฅุญุฑุงู ููุจูุฏุงู ุงููุฎุชููุฉ**\n\n"
            "ุงูุชุจ ุงุณู ุจูุฏู ูุซู:\n"
            "โข 'ูุตุฑ' ุฃู 'ุงููุบุฑุจ' ุฃู 'ุงูุฌุฒุงุฆุฑ'\n"
            "โข 'ุณูุฑูุง' ุฃู 'ูุจูุงู' ุฃู 'ููุณุทูู'\n"
            "โข 'ุงูุณุนูุฏูุฉ' ุฃู 'ุงูุฅูุงุฑุงุช' ุฃู 'ูุทุฑ'\n"
            "โข 'ุฃูุฑููุง' ุฃู 'ููุฏุง' ุฃู 'ุจุฑูุทุงููุง'\n"
            "โข 'ุงูููุฏ' ุฃู 'ุจุงูุณุชุงู' ุฃู 'ุฅูุฏูููุณูุง'\n\n"
            "ุฃู ุงุฎุชุฑ ูู ุงููุงุฆูุฉ",
            reply_markup=markup_back,
            parse_mode='Markdown'
        )

    # ูุนุงูุฌุฉ ูููุน ุงููุณุชุฎุฏู
    elif update.message.location:
        await send_current_location(update, context)

    elif intent == "dua_menu":
        await duas_menu(update, context)

    # ุงูุฑุฏ ุนูู ุงููุตูุต ุบูุฑ ุงููุนุฑููุฉ
    elif intent == "unknown":
        await update.message.reply_text(
            "๐ค ูู ุฃููู ุณุคุงูู.\n\n"
            "*ูููููุงุชุ ุงูุชุจ:*\n"
            "โข 'ูุตุฑ' ุฃู 'ุณูุฑูุง' ุฃู 'ุงูุณุนูุฏูุฉ'\n"
            "โข 'ุฃูุฑููุง' ุฃู 'ุงูููุฏ' ุฃู 'ุจุฑูุทุงููุง'\n"
            "โข 'ุฃุญุฑู ูู ุงููุบุฑุจ' ุฃู 'ูููุงุช ุงูููู'\n\n"
            "*ุฃู ุงูุชุจ:*\n"
            "โข 'ุนูุฑุฉ' ุฃู 'ุญุฌ'\n"
            "โข 'ุฏุนุงุก ุทูุงู'\n"
            "โข 'ุฎุฑูุทุฉ ุงูุญุฑู'\n\n"
            "ุฃู ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ูู ุงูุฃุณูู ๐",
            reply_markup=markup_main,
            parse_mode='Markdown'
        )
    elif intent == "start":
        await start(update, context)
# ================= ุฏุนู ุฌููุน ุงูุฃุฒุฑุงุฑ =================

# ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
    if text == "ุงูุญุฌ":
        await handle_hajj(update, context)
        return

    elif text == "ุงูุนูุฑุฉ":
        await handle_umrah(update, context)
        return

    elif text == "ุงูุฃุฏุนูุฉ":
        await update.message.reply_text("๐ฟ ุงุฎุชุฑ ููุน ุงูุฏุนุงุก:", reply_markup=markup_dua)
        return

    elif text == "ุงูุฎุฑูุทุฉ":
        await update.message.reply_text("๐บ ุงุฎุชุฑ ุงููููุน:", reply_markup=markup_map)
        return

    elif text == "ุงูุฃุฎุทุงุก ูุงูููุงุฑุงุช":
        await update.message.reply_text("โ ุงุฎุชุฑ ุงูุฎุทุฃ:", reply_markup=markup_mistakes)
        return

    elif text == "ูููุงุช ุงูุฅุญุฑุงู":
        await update.message.reply_text("๐ ุงุฎุชุฑ ููุทูุชู:", reply_markup=markup_miqat)
        return

    # ================= ุฃุฒุฑุงุฑ ุงูุฃุฏุนูุฉ =================

    elif text == "ุฃุฏุนูุฉ ุงูุฅุญุฑุงู":
        await dua_ihram(update, context)
        return

    elif text == "ุฃุฏุนูุฉ ุงูุทูุงู":
        await dua_tawaf(update, context)
        return

    elif text == "ุฃุฏุนูุฉ ุงูุณุนู":
        await dua_saee(update, context)
        return

    elif text == "ุฃุฏุนูุฉ ุนุฑูุฉ":
        await dua_arafah(update, context)
        return

    elif text == "ุฃุฏุนูุฉ ุงูุฌูุฑุงุช":
        await dua_jamarat(update, context)
        return

    elif text == "ุฃุฏุนูุฉ ุนุงูุฉ":
        await dua_general(update, context)
        return

    # ================= ุฃุฒุฑุงุฑ ุงูุฎุฑูุทุฉ =================

    elif text == "ุงููุณุฌุฏ ุงูุญุฑุงู":
        await send_haram_location(update, context)
        return

    elif text == "ุงูุตูุง":
        await send_safa_location(update, context)
        return

    elif text == "ุงููุฑูุฉ":
        await send_marwah_location(update, context)
        return

    elif text == "ูููุนู ุงูุญุงูู":
        await send_current_location(update, context)
        return
    elif text == "ุงูุชุทูุจ ุจุนุฏ ุงูุฅุญุฑุงู":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ุงุณุชุนูุงู ุงูุทูุจ ุจุนุฏ ุงูุฅุญุฑุงู\n\n"
                             "ุงูุญูู: ูุญุธูุฑ ุฅุญุฑุงู\n"
                             "ุงูููุงุฑุฉ: ูุฏูุฉ ุฃุฐู\n"
                             "ุชูุจูู: ุงูุทูุจ ูุจู ุงูุฅุญุฑุงู ุฌุงุฆุฒ."
                             )

    elif text == "ูุต ุงูุดุนุฑ ุฃู ุงูุฃุธุงูุฑ":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ูุต ุงูุดุนุฑ ุฃู ุงูุฃุธุงูุฑ\n\n"
                             "ุงูุญูู: ูุญุธูุฑ ุฅุญุฑุงู\n"
                             "ุงูููุงุฑุฉ: ูุฏูุฉ ุฃุฐู\n"
                             "ุชูุจูู: ุงูุฌุงูู ูุงููุงุณู ุนููู ูุฏูุฉ ุนูุฏ ุงูุฌูููุฑ."
                             )

    elif text == "ุชุบุทูุฉ ุงูุฑุฃุณ":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ุชุบุทูุฉ ุงูุฑุฃุณ (ููุฑุฌู)\n\n"
                             "ุงูุญูู: ูุญุธูุฑ ุฅุญุฑุงู\n"
                             "ุงูููุงุฑุฉ: ูุฏูุฉ ุฃุฐู\n"
                             "ููุงุญุธุฉ: ุงููุธูุฉ ูุง ุชูุนุฏ ุชุบุทูุฉ."
                             )

    elif text == "ุงูุทูุงู ุจุฏูู ูุถูุก":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ุงูุทูุงู ุจุฏูู ูุถูุก\n\n"
                             "ุงูุญูู: ุงูุทูุงู ุบูุฑ ุตุญูุญ ุนูุฏ ุฌูููุฑ ุงูุนููุงุก\n"
                             "ูุง ุงูุนููุ ูุฌุจ ุฅุนุงุฏุฉ ุงูุทูุงู ููุท\n"
                             "ููุงุฑุฉ: ูุง ููุฌุฏ"
                             )

    elif text == "ูุณู ุดูุท":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ูุณู ุดูุท ูู ุงูุทูุงู ุฃู ุงูุณุนู\n\n"
                             "ุงูุญูู: ุฅู ุชุฐูุฑุช ูุฑูุจูุง ุฃููู\n"
                             "ุฅู ุทุงู ุงููุตู: ุฃุนุฏ ุงูุทูุงู\n"
                             "ููุงุฑุฉ: ูุง ููุฌุฏ"
                             )
    elif text == "ูุจุณ ุงููุฎูุท":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ูุจุณ ุงููุฎูุท (ููุฑุฌู)\n\n"
                             "ุงูุญูู: ูุญุธูุฑ ุฅุญุฑุงู ููุง ูุจุทู ุงููุณู\n"
                             "ุงูููุงุฑุฉ: ูุฏูุฉ ุฃุฐู (ุงุฎุชูุงุฑ ูุงุญุฏ)\n"
                             "- ุฐุจุญ ุดุงุฉ\n- ุฃู ุฅุทุนุงู 6 ูุณุงููู\n- ุฃู ุตูุงู 3 ุฃูุงู\n\n"
                             "ูุงุฐุง ุชูุนูุ ุงุฎูุนู ููุฑูุง ูุงุฏูุน ุงููุฏูุฉ."
                             )
    elif text == "ุงูุณุนู ูุจู ุงูุทูุงู":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ุงูุณุนู ูุจู ุงูุทูุงู\n\n"
                             "ุงูุญูู: ุงูุณุนู ุบูุฑ ุตุญูุญ\n"
                             "ูุง ุงูุนููุ ุฃุนุฏ ุงูุณุนู ุจุนุฏ ุงูุทูุงู\n"
                             "ููุงุฑุฉ: ูุง ููุฌุฏ"
                             )

    elif text == "ุชุฑู ูุงุฌุจ":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ุชุฑู ูุงุฌุจ (ูุจูุชุ ุฑูู)\n\n"
                             "ุงูุญูู: ุงููุณู ุตุญูุญ\n"
                             "ุงูููุงุฑุฉ: ุฏู (ุฐุจุญ ุดุงุฉ)\n"
                             "ุชูุจูู: ูุง ุตูุงู ุจุฏูู"
                             )

    elif text == "ุงูุฌูุงุน":
        await mistake_detail(update,
                             "ุงูุฎุทุฃ: ุงูุฌูุงุน ูุจู ุงูุชุญูู ุงูุฃูู\n\n"
                             "ุงูุญูู: ููุณุฏ ุงููุณู\n"
                             "ูุง ูุฌุจ:\n"
                             "- ุฅููุงู ุงูุญุฌ\n"
                             "- ุงููุถุงุก ูู ุนุงู ูุงุฏู\n"
                             "- ุฐุจุญ ุจุฏูุฉ (ุฌูู)"
                             )
  
    # ================= ุฃุฒุฑุงุฑ ุงูุฃุฎุทุงุก =================

    elif text == "ูุจุณ ุงููุฎูุท":
        await mistake_detail(update, "๐ ูุจุณ ุงููุฎูุท ูุญุธูุฑ... (ููุณ ุงููุต ุนูุฏู)")
        return

    elif text == "ุงูุชุทูุจ ุจุนุฏ ุงูุฅุญุฑุงู":
        await mistake_detail(update, "๐น ุงูุชุทูุจ ุจุนุฏ ุงูุฅุญุฑุงู ูุญุธูุฑ... (ููุณ ุงููุต)")
        return

    # ================= ุฃุฒุฑุงุฑ ุงููููุงุช =================

    elif text == "ุงูุดุงู (ุณูุฑูุงุ ูุจูุงูุ ุงูุฃุฑุฏูุ ููุณุทูู)":
        await miqat_sham(update, context)
        return
    
    elif text =="ุฑุฌูุน":
        await start(update, context)
    elif text == "ูุตุฑ ูุดูุงู ุฃูุฑูููุง":
        await miqat_egypt(update, context)
        return

    elif text == "ุงูููู":
        await miqat_yemen(update, context)
        return

# ================= ุชุดุบูู ุงูุจูุช =================
app = ApplicationBuilder().token(TOKEN).build()

app.add_handler(CommandHandler("start", start))
app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, reply))
app.add_handler(MessageHandler(filters.LOCATION, reply))

print("๐ค ุงูุจูุช ูุนูู ุงูุขู ูุน ูุนุงูุฌุฉ ูุชูุฏูุฉ ููุบุฉ ุงูุนุฑุจูุฉ...")
print("โจ ูุฏุนู ุงูุขู ุฌููุน ุจูุฏุงู ุงูุนุงูู ูููููุงุช!")
app.run_polling()
